# 보안 그룹
## 인바운드 규칙
* EC2 인스턴스로 들어오는 네트워크 트래픽을 제어하는 규칙
* 어떤 IP 주소 또는 네트워크로부터 어떤 포트와 프로토콜을 통해 인스턴스에 접근할 수 있는지를 결정하는 역할
> ### 인바운드(Inbound)
> * 외부에서 EC2 인스턴스로 들어오는 트래픽
>    * ex) 인터넷 사용자나 다른 서버가 EC2 인스턴스에 접속할 때 이 트래픽이 인바운드 트래픽이다.

## 아웃바운드 규칙
* EC2 인스턴스에서 외부로 나가는 트래픽을 제어하는 규칙
* 인스턴스가 외부로 보내는 네트워크 트래픽을 허용할지 차단할지를 결정

> ### 아웃바운드(Outbound)
> * EC2 인스턴스가 외부 네트워크로 보내는 트래픽
>   * ex) EC2 인스턴스가 다른 서버로 데이터를 전송하거나, 외부 웹사이트에 접속하는 것

## 보안 그룹 defaul 선택 후 발생하는 문제들
### 1. EC2 연결 시
#### 발단
* defaul는 모든 트래픽에 포트 범위도 전체라길래 뭘 더 추가할 필요 없을 줄 알았다.
#### 문제
* EC2 Instance Connect로 연결하는데 계속 실패했고, 연결 전에도 포트 22도 승인하라는 알림이 있었다.
#### 해결
* 보안 그룹 default에 인바운드 규칙에 아래와 같이 추가하니 연결 되었다.
    * 유형 : SSH
    * 포트 범위 : 22
    * 소스 : 해당 IP

### 2. 서버 시작 후 퍼블릭 주소로 접근 시
#### 발단은 1번과 동일
#### 문제
* 웹 서버를 셋팅 후 퍼블릭 주소를 주소창에 입력해서 접속하려는데 연결 실패
* 연결 실패 이유는 여러가지가 있을 수 있었다.
    1. **보안 그룹에서 포트 80(HTTP)**이 열려 있는지 확인.
    2. Apache 웹 서버가 정상적으로 실행되고 있는지 확인.
    3. 퍼블릭 IP로 인스턴스에 접속하고 있는지 확인.
    4. VPC와 서브넷 설정에서 인터넷 게이트웨이가 올바르게 설정되어 있는지 확인.
    5. index.html 파일이 올바르게 생성되었는지 확인.
* 위 경우 중 눈에 띄는 보안 그룹...
#### 해결
* 보안 그룹 default에 인바운드 규칙에 아래와 같이 추가하니 연결 되었다.
    * 유형 : HTTP
    * 포트 범위 : 80
    * 소스 : 0.0.0.0/0 (모든 IP에서 접근 허용)